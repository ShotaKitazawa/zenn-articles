---
title: "概要と全体構成図"
---

# 背景

% Kubernetes は xxx というものです。

% 利用者は楽だけど管理者は辛いよ

この問題を低減するために Kubernetes クラスタを構成するマシンは VM (Virtual Machine / 仮想マシン) であることが一般的です。
物理マシンの上に Kubernetes クラスタを直接構築するよりも、VM を利用することで例えば以下のような利点があります。

* クラスタのプロビジョニングが容易
    * ハードウェアに依存しない Power on/off
    * PXE ブート用のシステム (例. DHCP + TFTP + NFS) 等を構築せずとも簡単に VM image をゲストマシンに渡すことができる
        * マシンのオートスケール時にも有用
* キャパシティプランニング
    * 物理マシンのリソースを仮想的に分割して利用できるため、多くの場合で効率が良い

VM を利用するためには VM を管理するソフトウェアをインストールする必要があります。
2021年初旬現在のデファクトスタンダードな OSS だと [libvirt](https://github.com/libvirt/libvirt) がそれに当たります[^1]。

また、複数の物理マシン上で複数の VM をいい感じに管理 (オーケストレーション) する OSS として以下のようなものがあります。
これらのソフトウェアは複数マシン上で連携して動作する (VM を作る → libvirt を叩く、 仮想ネットワークを作る → Open vSwitch を叩く、等)ことで、オーケストレーションを実現します。

* OpenStack
* CloudStack
* **KubeVirt**
* etc...

当記事は KubeVirt を使って VM を管理し、その上で Kubernetes クラスタを構築することを目指します。

# KubeVirt

TODO

# 全体構成図

構成の全体像は以下のようになります。

TODO


[^1]: あくまで管理レイヤの話なので、QEMU/KVM 辺りの話はここでは言及しません
